# Core Django runtime
DJANGO_SETTINGS_MODULE=config.settings.development
DJANGO_SECRET_KEY=dev-insecure-secret-key
DEBUG=true
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1
LOG_LEVEL=INFO

# Optional host port overrides (useful if defaults are already in use)
WEB_PORT=8000
POSTGRES_PORT=5432
REDIS_PORT=6379
NEO4J_HTTP_PORT=7474
NEO4J_BOLT_PORT=7687

# Primary database (required)
DATABASE_URL=postgresql://expert_user:expert_password@postgres:5432/expert_graph_rag

# Neo4j (required)
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=change-me

# OpenAI (optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=
OPENAI_TEMPERATURE=0.1
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# Backward-compatible alias (optional): OPENAI_ANSWER_MODEL

# Redis / Celery
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_TASK_ALWAYS_EAGER=false
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240

# Embeddings / retrieval defaults
EMBEDDING_DIM=8
EMBEDDING_BACKEND=auto
ALLOW_DETERMINISTIC_EMBEDDING_FALLBACK=true
LOCAL_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
CHUNK_SIZE=180
CHUNK_OVERLAP=40
SEARCH_PAGE_SIZE=10
SEARCH_SCAN_BATCH_SIZE=200
SEARCH_MAX_CHUNK_SCAN=2000
SEARCH_SNIPPET_MAX_CHARS=220
SEARCH_GRAPH_SEED_PAPERS=8
SEARCH_GRAPH_EXPANSION_LIMIT=40
SEARCH_GRAPH_HOP_LIMIT=2
EXPERTS_TOP_EXPERTS=10
EXPERTS_TOP_PAPERS=3
EXPERTS_TOP_TOPICS=3
EXPERTS_MAX_CHUNK_SCAN=3000
EXPERTS_TOPIC_DIVERSITY_TARGET=5
EXPERTS_ENABLE_GRAPH_CENTRALITY=false
ASK_TOP_K=8
ASK_MAX_CHUNK_SCAN=2000
ASK_FALLBACK_SENTENCE_COUNT=3

# OpenAlex ingestion defaults
OPENALEX_BASE_URL=https://api.openalex.org
OPENALEX_API_KEY=
OPENALEX_EMAIL=you@example.com
OPENALEX_MAILTO=you@example.com
OPENALEX_PAGE_SIZE=200
OPENALEX_HTTP_TIMEOUT_SECONDS=15
OPENALEX_MAX_RETRIES=3
OPENALEX_BACKOFF_SECONDS=1
OPENALEX_RATE_LIMIT_PER_SEC=5
OPENALEX_RATE_LIMIT_RPS=5
OPENALEX_SECURITY_LEVEL_RATIOS=70,20,10
OPENALEX_LIVE_FETCH=true
OPENALEX_LIVE_MIN_RESULTS=10
OPENALEX_LIVE_FETCH_LIMIT=40
OPENALEX_LIVE_FETCH_COOLDOWN_SECONDS=900
OPENALEX_CACHE_ENABLED=true
OPENALEX_CACHE_TTL_SECONDS=900
OPENALEX_MIN_QUERY_COVERAGE=0.18
OPENALEX_MAX_TOPICS_PER_WORK=8
